-- SERVICES
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- PET CONFIGURATION
local pets = {
    {Name = "Parrot", Color = Color3.fromRGB(255, 0, 0), Size = Vector3.new(2,2,2)},
    {Name = "Owl", Color = Color3.fromRGB(255,255,255), Size = Vector3.new(2,2,2)},
    {Name = "Dragon", Color = Color3.fromRGB(0,0,255), Size = Vector3.new(3,3,3)}, -- exo
}

-- CREATE GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "VisualPetSpawner"
screenGui.Parent = playerGui

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0.8,0,0.5,0)
mainFrame.Position = UDim2.new(0.1,0,0.25,0)
mainFrame.BackgroundColor3 = Color3.fromRGB(30,30,30)
mainFrame.Active = true
mainFrame.Draggable = true -- DRAGGABLE FOR MOBILE
mainFrame.Parent = screenGui

local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(0, 16)
uiCorner.Parent = mainFrame

-- BUTTONS TO SPAWN PETS
local function createPetButton(pet, index)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0,150,0,50)
    button.Position = UDim2.new(0,20,0, 60 * index)
    button.Text = pet.Name
    button.BackgroundColor3 = pet.Color
    button.Parent = mainFrame

    button.MouseButton1Click:Connect(function()
        -- Remove old pet if exists
        if player.Character:FindFirstChild("VisualPet") then
            player.Character.VisualPet:Destroy()
        end

        -- CREATE PET
        local petModel = Instance.new("Part")
        petModel.Size = pet.Size
        petModel.Color = pet.Color
        petModel.Name = "VisualPet"
        petModel.Anchored = false
        petModel.CanCollide = false
        petModel.Parent = workspace

        -- FOLLOW PLAYER
        local bodyPos = Instance.new("BodyPosition")
        bodyPos.MaxForce = Vector3.new(1e5,1e5,1e5)
        bodyPos.Position = player.Character.HumanoidRootPart.Position + Vector3.new(3,2,0)
        bodyPos.Parent = petModel

        RunService.RenderStepped:Connect(function()
            if petModel and bodyPos then
                bodyPos.Position = player.Character.HumanoidRootPart.Position + Vector3.new(3,2,0)
            end
        end)

        -- MOUNT PET (OPTIONAL)
        local mountButton = Instance.new("TextButton")
        mountButton.Size = UDim2.new(0,100,0,40)
        mountButton.Position = UDim2.new(1,-120,0,60*index)
        mountButton.Text = "Mount"
        mountButton.Parent = mainFrame

        mountButton.MouseButton1Click:Connect(function()
            if player.Character and petModel then
                player.Character.HumanoidRootPart.CFrame = petModel.CFrame + Vector3.new(0,2,0)
            end
        end)
    end)
end

for i,pet in ipairs(pets) do
    createPetButton(pet, i)
end
